<ion-content class="ion-padding" [fullscreen]="true">
  <div class="login-container">
    <div class="header-section">
      <ion-img src="/assets/icon/icon.png" class="logo" alt="POS Logo"></ion-img>
      <h1>Welcome Back</h1>
      <p>Sign in to your POS account</p>
    </div>

    <ion-card>
      <ion-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="login()">
          <ion-item class="form-item" [class.invalid]="email?.invalid && email?.touched">
            <ion-label position="stacked" class="input-label">
              Email Address <span class="required">*</span>
            </ion-label>
            <ion-input 
              formControlName="email" 
              type="email" 
              placeholder="Enter your email"
              class="custom-input">
            </ion-input>
            <ion-icon name="mail-outline" slot="start" class="input-icon"></ion-icon>
          </ion-item>

          <div class="error-message" *ngIf="email?.invalid && email?.touched">
            <ion-text color="danger" *ngIf="email?.errors?.['required']">
              Email is required
            </ion-text>
            <ion-text color="danger" *ngIf="email?.errors?.['email']">
              Please enter a valid email address
            </ion-text>
          </div>

          <ion-item class="form-item" [class.invalid]="password?.invalid && password?.touched">
            <ion-label position="stacked" class="input-label">
              Password <span class="required">*</span>
            </ion-label>
            <ion-input 
              formControlName="password" 
              [type]="showPassword ? 'text' : 'password'" 
              placeholder="Enter your password"
              class="custom-input">
            </ion-input>
            <ion-icon name="lock-closed-outline" slot="start" class="input-icon"></ion-icon>
            <ion-button 
              fill="clear" 
              slot="end" 
              (click)="togglePasswordVisibility()"
              class="visibility-toggle">
              <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </ion-button>
          </ion-item>

          <div class="error-message" *ngIf="password?.invalid && password?.touched">
            <ion-text color="danger" *ngIf="password?.errors?.['required']">
              Password is required
            </ion-text>
          </div>

          <div class="forgot-password ion-text-end">
            <ion-button 
              fill="clear" 
              size="small"
              (click)="forgotPassword()"
              class="ion-no-padding">
              Forgot Password?
            </ion-button>
          </div>

          <ion-button 
            type="submit" 
            expand="block" 
            [disabled]="!loginForm.valid"
            class="login-button ion-margin-top"
            shape="round">
            <ion-icon name="log-in-outline" slot="start"></ion-icon>
            Sign In
          </ion-button>
        </form>

        <div class="register-link">
          <p>Don't have an account?</p>
          <ion-button 
            routerLink="/register"
            expand="block" 
            fill="clear"
            class="register-button">
            <ion-icon name="person-add-outline" slot="start"></ion-icon>
            Create Account
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>