<ion-content class="ion-padding" [fullscreen]="true">
  <div class="auth-container">

    <div class="auth-header">
      <ion-img src="/assets/icon/kumpas.jpg" alt="POS Logo" class="logo"></ion-img>
      <h2>Welcome Back</h2>
      <span>Sign in to continue</span>
    </div>

    <ion-card class="auth-card">
      <ion-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="login()">
          
          <!-- Email -->
          <div class="input-wrapper" [class.invalid]="email?.invalid && email?.touched">
            <i class="fas fa-envelope"></i>
            <ion-input
              formControlName="email"
              type="email"
              placeholder="Email Address"
              class="input-field">
            </ion-input>
          </div>

          <div class="error" *ngIf="email?.invalid && email?.touched">
            <ion-text color="danger" *ngIf="email?.errors?.['required']">Email is required</ion-text>
            <ion-text color="danger" *ngIf="email?.errors?.['email']">Enter a valid email</ion-text>
          </div>

          <!-- Password -->
          <div class="input-wrapper" [class.invalid]="password?.invalid && password?.touched">
            <i class="fas fa-lock"></i>
            <ion-input
              formControlName="password"
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Password"
              class="input-field">
            </ion-input>
            <button type="button" class="toggle-pass" (click)="togglePasswordVisibility()">
              <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
            </button>
          </div>

          <div class="error" *ngIf="password?.invalid && password?.touched">
            <ion-text color="danger" *ngIf="password?.errors?.['required']">Password is required</ion-text>
          </div>

          <div class="forgot">
            <button type="button" (click)="forgotPassword()">Forgot Password?</button>
          </div>

          <ion-button
            type="submit"
            expand="block"
            [disabled]="!loginForm.valid"
            class="btn-primary">
            <i class="fas fa-sign-in-alt"></i>&nbsp; Sign In
          </ion-button>
        </form>

        <div class="create">
          <span>New here?</span>
          <ion-button routerLink="/register" fill="clear" class="btn-link">
            <i class="fas fa-user-plus"></i>&nbsp; Create Account
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
